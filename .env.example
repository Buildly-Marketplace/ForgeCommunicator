# Server
PORT=8000
HOST=0.0.0.0

# Security - CHANGE IN PRODUCTION
SECRET_KEY=change-me-in-production-use-openssl-rand-hex-32

# Database
DATABASE_URL=postgresql+asyncpg://forge:forge@localhost:5432/forge_communicator

# =============================================================================
# WHITE-LABEL BRANDING
# Customize these for each customer deployment
# =============================================================================
# Display name shown in UI (e.g., "Communicator", "TeamChat")
BRAND_NAME=Communicator
# Company name for branding (e.g., "Buildly", "Transparent Path", "ACME Corp")
BRAND_COMPANY=Buildly
# URL to custom logo image (leave empty to use default)
BRAND_LOGO_URL=
# URL to custom favicon (leave empty to use default)
BRAND_FAVICON_URL=
# Support email shown to users
BRAND_SUPPORT_EMAIL=support@buildly.io
# Theme colors (hex values)
BRAND_PRIMARY_COLOR=#4f46e5
BRAND_SECONDARY_COLOR=#1e3a5f
BRAND_ACCENT_COLOR=#f97316

# Example for Transparent Path:
# BRAND_NAME=TeamChat
# BRAND_COMPANY=Transparent Path
# BRAND_LOGO_URL=https://transparentpath.com/logo.png
# BRAND_PRIMARY_COLOR=#00a67e
# BRAND_SUPPORT_EMAIL=support@transparentpath.com

# Realtime mode: ws (WebSocket) or poll (HTTP polling)
REALTIME_MODE=ws
POLL_INTERVAL_MS=3000

# Rate limiting
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_WINDOW=60

# Google OAuth (optional - for login and calendar integration)
# For Google Workspace integration with calendar-based status:
# 1. Create OAuth credentials at https://console.cloud.google.com/apis/credentials
# 2. Enable Google Calendar API
# 3. Add authorized redirect URI: https://your-domain/auth/oauth/google/callback
# 4. For account linking (calendar only): https://your-domain/auth/google/link/callback
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=https://comms.buildly.io/auth/oauth/google/callback
# Optional: Restrict to a specific Google Workspace domain
GOOGLE_ALLOWED_DOMAIN=

# Buildly Labs OAuth - Single Sign-On across Buildly apps
# Labs acts as the identity provider for comms.buildly.io and collab.buildly.io
BUILDLY_CLIENT_ID=
BUILDLY_CLIENT_SECRET=
BUILDLY_REDIRECT_URI=https://comms.buildly.io/auth/oauth/buildly/callback
BUILDLY_OAUTH_URL=https://labs.buildly.io
BUILDLY_API_URL=https://labs.buildly.io/api/v1

# Buildly Labs API (for syncing products, backlog, etc.)
# This key is used for server-to-server sync, separate from OAuth
LABS_API_KEY=
LABS_API_URL=https://labs.buildly.io/api/v1

# =============================================================================
# EMAIL CONFIGURATION (Optional - for sending invites)
# =============================================================================
# Email sending is optional. If not configured, invite links will be displayed
# but emails won't be sent automatically.
#
# We support SMTP (recommended) or API-based providers (SendGrid, Mailgun)
#
# Example for MailerSend (SMTP):
SMTP_HOST=smtp.mailersend.net
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true
SMTP_FROM_EMAIL=noreply@yourdomain.com
SMTP_FROM_NAME=Communicator

# Example for SendGrid (API):
# SENDGRID_API_KEY=SG.xxxxxxxx

# Example for Mailgun (API):
# MAILGUN_API_KEY=key-xxxxxxxx
# MAILGUN_DOMAIN=mg.yourdomain.com

# Base URL for links in emails (your public URL)
BASE_URL=https://comms.buildly.io

# =============================================================================
# PUSH NOTIFICATIONS (Web Push / VAPID)
# =============================================================================
# Generate keys with: python scripts/generate_vapid.py
# These enable push notifications for @mentions, DMs, etc.
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_CONTACT_EMAIL=admin@buildly.io

# =============================================================================
# SLACK INTEGRATION (Optional - for receiving Slack notifications)
# =============================================================================
# Create a Slack App at https://api.slack.com/apps
# 1. Enable OAuth & Permissions with redirect URI: https://your-domain/integrations/slack/callback
# 2. Add User Token Scopes: users:read, channels:read, groups:read, im:read, mpim:read, im:history, mpim:history
# 3. Enable Event Subscriptions with URL: https://your-domain/integrations/slack/webhook
# 4. Subscribe to events: message.im, message.mpim, app_mention, message.channels
# 5. Copy the Signing Secret from Basic Information
SLACK_CLIENT_ID=
SLACK_CLIENT_SECRET=
SLACK_SIGNING_SECRET=

# =============================================================================
# DISCORD INTEGRATION (Optional - for receiving Discord notifications)
# =============================================================================
# Create a Discord Application at https://discord.com/developers/applications
# 1. Go to OAuth2 settings and add redirect URI: https://your-domain/integrations/discord/callback
# 2. Copy Client ID and Client Secret
# 3. (Optional) Create a Bot if you want to receive webhook events
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=
DISCORD_BOT_TOKEN=

# Debug (disable in production)
DEBUG=false

# GitHub Issues should map to your public repository where you want to track errors.
GITHUB_ERROR_REPO=buildly/ForgeCommunicator
GITHUB_ERROR_TOKEN=ghp_your_token_here

# Labs Punchlist (reuses existing LABS_API_URL and LABS_API_KEY)
LABS_ERROR_PRODUCT_UUID=your-product-uuid-here

# =============================================================================
# FILE STORAGE (DigitalOcean Spaces / S3-compatible)
# =============================================================================
# For file uploads in channels and DMs
# Create a DigitalOcean Space at https://cloud.digitalocean.com/spaces
# 1. Create a new Space (e.g., "forge-uploads")
# 2. Go to API > Spaces Keys and generate Access Keys
# 3. Configure CORS for your domain
STORAGE_ENDPOINT=https://nyc3.digitaloceanspaces.com
STORAGE_ACCESS_KEY=
STORAGE_SECRET_KEY=
STORAGE_BUCKET=forge-uploads
STORAGE_REGION=nyc3
STORAGE_PUBLIC_URL=https://forge-uploads.nyc3.cdn.digitaloceanspaces.com
UPLOAD_MAX_SIZE_MB=25